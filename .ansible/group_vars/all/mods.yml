---

# DO NOT ALTER THIS FILE - IT IS AUTOGENERATED.

# The following specifies the order in which modules are being built.
extensions_enabled:
  - amqp
  - apc
  - apcu
  - bcmath
  - blackfire
  - bz2
  - calendar
  - ctype
  - curl
  - date
  - dba
  - libxml
  - dom
  - enchant
  - ereg
  - mbstring
  - exif
  - ffi
  - fileinfo
  - filter
  - ftp
  - gd
  - gettext
  - gmp
  - hash
  - iconv
  - igbinary
  - imagick
  - imap
  - interbase
  - intl
  - ioncube
  - json
  - ldap
  - lz4
  - lzf
  - mcrypt
  - memcache
  - msgpack
  - memcached
  - mhash
  - mongo
  - mongodb
  - mysql
  - mysqli
  - mysqlnd
  - pcre
  - oauth
  - oci8
  - odbc
  - opcache
  - openssl
  - pcntl
  - pdo
  - pdo_dblib
  - pdo_firebird
  - pdo_mysql
  - pdo_oci
  - pdo_odbc
  - pdo_pgsql
  - pdo_sqlite
  - pdo_sqlsrv
  - pgsql
  - psr
  - zstd
  - redis
  - sqlite3
  - sqlsrv
  - phalcon
  - phar
  - posix
  - pspell
  - random
  - rdkafka
  - readline
  - recode
  - reflection
  - session
  - shmop
  - simplexml
  - snmp
  - soap
  - sockets
  - sodium
  - solr
  - spl
  - sqlite
  - ssh2
  - xml
  - zip
  - swoole
  - sysvmsg
  - sysvsem
  - sysvshm
  - tidy
  - tokenizer
  - uploadprogress
  - uuid
  - vips
  - wddx
  - xdebug
  - xlswriter
  - xmlreader
  - xmlrpc
  - xmlwriter
  - xsl
  - yaml
  - zlib


# The following specifies how modules are being built.
extensions_available:
  amqp:
    disabled: []
    all:
      type: pecl
      command: echo "/usr" | pecl install amqp
      build_dep: [librabbitmq-dev]
      run_dep: [librabbitmq4]
    5.5:
      type: pecl
      version: 1.9.3
      run_dep: [librabbitmq1]
    5.4:
      type: pecl
      version: 1.9.3
      run_dep: [librabbitmq1]
    5.3:
      type: pecl
      version: 1.9.3
      run_dep: [librabbitmq1]
    5.2:
      type: pecl
      version: 1.6.1
      run_dep: [librabbitmq1]
  apc:
    disabled: [5.2, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    already_avail: "{{ php_all_versions }}"
  apcu:
    disabled: [5.2]
    all:
      type: pecl
    5.6:
      type: pecl
      version: 4.0.11
    5.5:
      type: pecl
      version: 4.0.11
    5.4:
      type: pecl
      version: 4.0.11
    5.3:
      type: pecl
      version: 4.0.11
  bcmath:
    disabled: []
    all:
      type: builtin
  blackfire:
    disabled: [5.2, 5.3, 5.4, 5.5, 8.1, 8.2]
    all:
      type: custom
      command: |
        version=$(php -r "echo PHP_MAJOR_VERSION.PHP_MINOR_VERSION;") \
        && curl -A "Docker" -o /tmp/blackfire-probe.tar.gz -D - -L -s https://blackfire.io/api/v1/releases/probe/php/linux/amd64/$version \
        && mkdir -p /tmp/blackfire \
        && tar zxpf /tmp/blackfire-probe.tar.gz -C /tmp/blackfire \
        && mv /tmp/blackfire/blackfire-*.so $(php -r "echo ini_get('extension_dir');")/blackfire.so \
        && rm -rf /tmp/blackfire /tmp/blackfire-probe.tar.gz \
  bz2:
    disabled: []
    all:
      type: builtin
      build_dep: [libbz2-dev]
  calendar:
    disabled: []
    all:
      type: builtin
  ctype:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  curl:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  date:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  dba:
    disabled: []
    all:
      type: builtin
  libxml:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  dom:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  enchant:
    disabled: [7.3, 7.4]
    all:
      type: builtin
      build_dep: [libenchant-2-dev]
      run_dep: [libenchant-2-2]
    7.2:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    7.1:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    7.0:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    5.6:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    5.5:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    5.4:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    5.3:
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
    5.2:
      type: pecl
      command: echo "/usr" | pecl install enchant
      build_dep: [libenchant-dev]
      run_dep: [libenchant1c2a]
  ereg:
    disabled: [5.2, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    already_avail: "{{ php_all_versions }}"
  mbstring:
    disabled: []
    already_avail: "{{ php_all_versions }}"  # Available by default
  exif:
    disabled: []
    all:
      type: builtin
  ffi:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3]
    already_avail: [8.0, 8.1, 8.2]
    all:
      type: builtin
      build_dep: [libffi-dev]
      run_dep: [libffi7]
  fileinfo:
    disabled: []
    already_avail: [5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    5.2:
      type: pecl
      build_dep: [libmagic-dev]
      run_dep: [libmagic1]
  filter:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  ftp:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  gd:
    disabled: []
    all:
      type: builtin
      pre: ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libXpm.* /usr/lib/
      configure: --with-gd --with-vpx-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      build_dep: [libpng-dev, libjpeg-dev, libxpm-dev, libvpx-dev, zlib1g-dev, libfreetype6-dev, libwebp-dev]
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx6, libfreetype6, libwebp6]
    8.2:
      type: builtin
      configure: --enable-gd --with-webp --with-jpeg --with-xpm --with-freetype --with-avif
      build_dep: [libpng-dev, libjpeg-dev, libxpm-dev, libvpx-dev, zlib1g-dev, libfreetype6-dev, libwebp-dev, libavif-dev]
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx6, libfreetype6, libwebp6, libavif9]
    8.1:
      type: builtin
      configure: --enable-gd --with-webp --with-jpeg --with-xpm --with-freetype --with-avif
      build_dep: [libpng-dev, libjpeg-dev, libxpm-dev, libvpx-dev, zlib1g-dev, libfreetype6-dev, libwebp-dev, libavif-dev]
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx6, libfreetype6, libwebp6, libavif9]
    8.0:
      type: builtin
      configure: --enable-gd --with-webp --with-jpeg --with-xpm --with-freetype
    7.4:
      type: builtin
      configure: --enable-gd --with-webp --with-jpeg --with-xpm --with-freetype
    7.3:
      type: builtin
      configure: --with-gd --with-webp-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr
    7.2:
      type: builtin
      configure: --with-gd --with-webp-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx5, libfreetype6, libwebp6]
    7.1:
      type: builtin
      configure: --with-gd --with-webp-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx5, libfreetype6, libwebp6]
    7.0:
      type: builtin
      configure: --with-gd --with-webp-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx4, libfreetype6, libwebp6]
    5.6:
      type: builtin
      pre: ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libXpm.* /usr/lib/
      configure: --with-gd --with-vpx-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng16-16, libjpeg62-turbo, libxpm4, libvpx4, libfreetype6, libwebp6]
    5.5:
      type: builtin
      pre: |
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libjpeg.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libpng.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libXpm.* /usr/lib/ && \
        mkdir /usr/include/freetype2/freetype && \
        ln -s /usr/include/freetype2/freetype.h /usr/include/freetype2/freetype/freetype.h \
      configure: --with-gd --with-vpx-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng12-0, libjpeg62-turbo, libxpm4, libvpx1, libfreetype6, libwebp5]
    5.4:
      type: builtin
      pre: |
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libjpeg.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libpng.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libXpm.* /usr/lib/ && \
        mkdir /usr/include/freetype2/freetype && \
        ln -s /usr/include/freetype2/freetype.h /usr/include/freetype2/freetype/freetype.h \
      configure: --with-gd --with-vpx-dir=/usr --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng12-0, libjpeg62-turbo, libxpm4, libvpx1, libfreetype6, libwebp5]
    5.3:
      type: builtin
      pre: |
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libjpeg.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libpng.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libXpm.* /usr/lib/ && \
        mkdir /usr/include/freetype2/freetype && \
        ln -s /usr/include/freetype2/freetype.h /usr/include/freetype2/freetype/freetype.h \
      configure: --with-gd --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng12-0, libjpeg62-turbo, libxpm4, libvpx1, libfreetype6, libwebp5]
    5.2:
      type: builtin
      pre: |
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libjpeg.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libpng.* /usr/lib/ && \
        ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libXpm.* /usr/lib/ && \
        mkdir /usr/include/freetype2/freetype && \
        ln -s /usr/include/freetype2/freetype.h /usr/include/freetype2/freetype/freetype.h \
      configure: --with-gd --with-jpeg-dir=/usr --with-png-dir=/usr --with-zlib-dir=/usr --with-xpm-dir=/usr --with-freetype-dir=/usr --enable-gd-native-ttf
      run_dep: [libpng12-0, libjpeg62-turbo, libxpm4, libvpx1, libfreetype6, libwebp5]
  gettext:
    disabled: []
    all:
      type: builtin
  gmp:
    disabled: [5.2]
    all:
      type: builtin
      pre: ln /usr/include/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/gmp.h /usr/include/
      build_dep: [libgmp-dev]
      run_dep: []  # TODO: Ensure to add libgmp10 to each of the versions
  hash:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  iconv:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  igbinary:
    disabled: []
    all:
      type: pecl
    5.6:
      type: pecl
      version: 2.0.8
    5.5:
      type: pecl
      version: 2.0.8
    5.4:
      type: pecl
      version: 2.0.8
    5.3:
      type: pecl
      version: 2.0.8
    5.2:
      type: pecl
      version: 2.0.7
  imagick:
    disabled: [5.2, 5.3, 5.4]
    all:
      type: pecl
      build_dep: [libmagickwand-dev, libwebp-dev, ghostscript]
      run_dep: [libmagickwand-6.q16-6, libwebp6, ghostscript]
      # https://bugs.php.net/bug.php?id=77683
      # https://github.com/Imagick/imagick/issues/262 (policy prevents PDF from being read)
      post: |
        sed -i'' 's|.*"thread".*|  <policy domain="resource" name="thread" value="1"/>|g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"PS".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"PS2".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"PS3".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"EPS".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"PDF".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"XPS".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="coder".*"PS".*||g' /etc/ImageMagick-6/policy.xml \
        && sed -i'' 's|.*<policy domain="delegate".*pattern="gs".*||g' /etc/ImageMagick-6/policy.xml \
    7.0:
      type: pecl
      run_dep: [libmagickwand-6.q16-3, libwebp6, ghostscript]
    5.6:
      type: pecl
      run_dep: [libmagickwand-6.q16-3, libwebp6, ghostscript]
    5.5:
      type: pecl
      run_dep: [libmagickwand-6.q16-2, libwebp5, ghostscript]
  imap:
    disabled: []
    all:
      type: builtin
      pre: ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libkrb5* /usr/lib/
      configure: --with-kerberos --with-imap-ssl --with-imap
      build_dep: [libc-client-dev, libkrb5-dev, libcurl4-openssl-dev]
      run_dep: [libc-client2007e]
  interbase:
    disabled: [7.4, 8.0, 8.1, 8.2]
    all:
      type: builtin
      build_dep: [libfbclient2, libib-util, firebird-dev]
      run_dep: [libfbclient2]
  intl:
    disabled: []
    all:
      type: builtin
      build_dep: [libicu-dev]
      run_dep: [libicu67]
    7.2:
      type: builtin
      run_dep: [libicu63]
    7.1:
      type: builtin
      run_dep: [libicu63]
    7.0:
      type: builtin
      run_dep: [libicu57]
    5.6:
      type: builtin
      run_dep: [libicu57]
    5.5:
      type: builtin
      run_dep: [libicu52]
    5.4:
      type: builtin
      run_dep: [libicu52]
    5.3:
      type: builtin
      run_dep: [libicu52]
    5.2:
      type: pecl
      run_dep: [libicu52]
  ioncube:
    disabled: [5.2, 5.3, 5.4, 8.0, 8.1, 8.2]
    all:
      type: custom
      command: |
        EXTENSION_DIR="$( php -i | grep ^extension_dir | awk -F '=>' '{print $2}' | xargs )" \
        && if [ ! -d "${EXTENSION_DIR}" ]; then mkdir -p "${EXTENSION_DIR}"; fi \
        && curl -sS --fail -k https://downloads.ioncube.com/loader_downloads/ioncube_loaders_lin_$(dpkg-architecture --query DEB_HOST_GNU_CPU | sed 's/_/-/g').tar.gz -L -o ioncube.tar.gz \
        && tar xvfz ioncube.tar.gz \
        && cd ioncube \
        && cp "ioncube_loader_lin_{{ php_version }}.so" "${EXTENSION_DIR}/ioncube.so" \
        && cd ../ \
        && rm -rf ioncube \
        && rm -rf ioncube.tar.gz \
  json:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  ldap:
    disabled: []
    all:
      type: builtin
      pre: ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libldap* /usr/lib/
      configure: --with-ldap --with-ldap-sasl
      build_dep: [libldap2-dev, libsasl2-dev]
  lz4:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: git
      git_url: https://github.com/kjdev/php-ext-lz4
      git_ref: $(git tag | grep -E '^[.0-9]+$' | sort -V | tail -1)
      configure: --enable-lz4 --with-lz4-includedir=/usr
      build_dep: [liblz4-dev]
      run_dep: [liblz4-1]
  lzf:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: pecl
      build_dep: [liblzf-dev]
      run_dep: [liblzf1]
    7.2:
      type: pecl
      build_dep: []
      run_dep: []
    7.1:
      type: pecl
      version: 1.6.8
      build_dep: []
      run_dep: []
    7.0:
      type: pecl
      version: 1.6.8
      build_dep: []
      run_dep: []
  mcrypt:
    disabled: [8.1, 8.2]
    all:
      type: pecl
      run_dep: [libmcrypt4]
      build_dep: [libmcrypt-dev]
    7.3:
      type: pecl
      version: 1.0.2
    7.2:
      type: pecl
      version: 1.0.1
    7.1:
      type: builtin
    7.0:
      type: builtin
    5.6:
      type: builtin
    5.5:
      type: builtin
    5.4:
      type: builtin
    5.3:
      type: builtin
    5.2:
      type: builtin
  memcache:
    disabled: []
    all:
      type: pecl
      build_dep: [zlib1g-dev]
    7.4:
      type: pecl
      version: 4.0.5.2
    7.3:
      type: pecl
      version: 4.0.5.2
    7.2:
      type: pecl
      version: 4.0.5.2
    7.1:
      type: pecl
      version: 4.0.5.2
    7.0:
      type: pecl
      version: 4.0.5.2
    5.6:
      type: pecl
      version: 2.2.7
    5.5:
      type: pecl
      version: 2.2.7
    5.4:
      type: pecl
      version: 2.2.7
    5.3:
      type: pecl
      version: 2.2.7
    5.2:
      type: pecl
      version: 2.2.7
  msgpack:
    disabled: []
    all:
      type: pecl
    5.6:
      type: pecl
      version: 0.5.7
    5.5:
      type: pecl
      version: 0.5.7
    5.4:
      type: pecl
      version: 0.5.7
    5.3:
      type: pecl
      version: 0.5.7
    5.2:
      type: pecl
      version: 0.5.7
  memcached:
    disabled: []
    all:
      type: pecl
      command: printf "\n\n\nyes\nyes\nyes\n" | pecl install memcached
      build_dep: [zlib1g-dev, libmemcached-dev, libevent-dev]
      run_dep: [libmemcachedutil2, libevent-2.1-7]
    8.2:
      type: git
      git_url: https://github.com/php-memcached-dev/php-memcached
      git_ref: master
      command: |
        true \
        # FIXME: This is a work-around to mitigate compile error with PHP 8.2
        && sed -i'' 's/\sTSRMLS_CC//g' php_memcached_session.c \
        && phpize \
        && ./configure --enable-memcached \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && make install \
    7.2:
      type: pecl
      command: printf "\n\n\nyes\nyes\nyes\n" | pecl install memcached
      run_dep: [libmemcachedutil2, libevent-2.1-6]
    7.1:
      type: pecl
      command: printf "\n\n\nyes\nyes\nyes\n" | pecl install memcached
      run_dep: [libmemcachedutil2, libevent-2.1-6]
    7.0:
      type: pecl
      command: printf "\n\n\nyes\nyes\nyes\n" | pecl install memcached
      run_dep: [libmemcachedutil2, libevent-2.0-5]
    5.6:
      type: pecl
      version: 2.2.0
      run_dep: [libmemcachedutil2, libevent-2.0-5]
    5.5:
      type: pecl
      version: 2.2.0
      run_dep: [libmemcachedutil2, libevent-2.0-5]
    5.4:
      type: pecl
      version: 2.2.0
      run_dep: [libmemcachedutil2, libevent-2.0-5]
    5.3:
      type: pecl
      version: 2.2.0
      run_dep: [libmemcachedutil2, libevent-2.0-5]
    5.2:
      type: pecl
      version: 2.1.0
      run_dep: [libmemcachedutil2, libevent-2.0-5]
  mhash:
    disabled: [7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    already_avail: [5.2, 5.3, 5.4, 5.5, 5.6]
  mongo:
    disabled: [7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    all:
      type: pecl
      command: yes yes | pecl install mongo
      build_dep: [libssl-dev, libsasl2-dev]
    5.2:
      type: pecl
      command: yes yes | pecl install mongo-1.5.8
  mongodb:
    disabled: [5.2]
    all:
      type: pecl
      build_dep: [libssl-dev, libsasl2-dev]
    7.1:
      type: pecl
      version: 1.11.1
    7.0:
      type: pecl
      version: 1.9.2
    5.6:
      type: pecl
      version: 1.7.5
    5.5:
      type: pecl
      version: 1.5.5
    5.4:
      type: pecl
      version: 1.2.11
    5.3:
      type: pecl
      version: 0.6.3
  mysql:
    disabled: [7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    all:
      type: builtin
      configure: --with-mysql --with-mysql-sock --with-zlib-dir=/usr --with-libdir="/lib/$(dpkg-architecture --query DEB_BUILD_MULTIARCH)"
      run_dep: [libmysqlclient18]
      build_dep: [libmysqlclient-dev]
    5.6:
      type: builtin
      run_dep: [libmariadbclient18]
      build_dep: [libmariadbclient-dev]
  mysqli:
    disabled: []
    all:
      type: builtin
      run_dep: [libmariadbd19]
      build_dep: [libmariadb-dev]
    7.0:
      type: builtin
      run_dep: [libmariadbclient18]
      build_dep: [libmariadbclient-dev]
    5.6:
      type: builtin
      run_dep: [libmariadbclient18]
      build_dep: [libmariadbclient-dev]
    5.5:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [libmysqlclient-dev]
    5.4:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [libmysqlclient-dev]
    5.3:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [libmysqlclient-dev]
    5.2:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [libmysqlclient-dev]
  mysqlnd:
    disabled: [5.2]
    already_avail: [5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
  pcre:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  oauth:
    disabled: []
    all:
      type: pecl
      build_dep: [libpcre3-dev, libcurl4-openssl-dev]
    5.6:
      type: pecl
      version: 1.2.3
    5.5:
      type: pecl
      version: 1.2.3
    5.4:
      type: pecl
      version: 1.2.3
    5.3:
      type: pecl
      version: 1.2.3
    5.2:
      type: pecl
      version: 1.2.3
  oci8:
    disabled: [5.2]
    all:
      type: builtin
      configure: --with-oci8=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
      pre: |
        ARCH="$(dpkg-architecture --query DEB_HOST_GNU_CPU)" \
        && ORACLE_HREF="$( \
            curl -sS https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/ \
            | tac \
            | tac \
            | grep -Eo 'href="getPackage/oracle-instantclient.+basiclite.+rpm"' \
            | tail -1 \
        )" \
        && ORACLE_VERSION_MAJOR="$( echo "${ORACLE_HREF}" | grep -Eo 'instantclient[.0-9]+' | sed 's/instantclient//g' )" \
        && ORACLE_VERSION_FULL="$( echo "${ORACLE_HREF}" | grep -Eo 'basiclite-[-.0-9]+' | sed -e 's/basiclite-//g' -e 's/\.$//g' )" \
        \
        && rpm --import http://yum.oracle.com/RPM-GPG-KEY-oracle-ol7 \
        && curl -sS -o /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/getPackage/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && curl -sS -o /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/getPackage/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && alien \
          -v \
          --target=$( dpkg --print-architecture ) \
          -i /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && alien \
          -v \
          --target=$( dpkg --print-architecture ) \
          -i /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && rm -f /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && rm -f /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
      build_dep: [alien, libaio-dev]
      run_dep: [libaio1]
      post: |
        ARCH="$(dpkg-architecture --query DEB_HOST_GNU_CPU)" \
        && ORACLE_HREF="$( \
            curl -sS https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/ \
            | tac \
            | tac \
            | grep -Eo 'href="getPackage/oracle-instantclient.+basiclite.+rpm"' \
            | tail -1 \
        )" \
        && ORACLE_VERSION_MAJOR="$( echo "${ORACLE_HREF}" | grep -Eo 'instantclient[.0-9]+' | sed 's/instantclient//g' )" \
        && ORACLE_VERSION_FULL="$( echo "${ORACLE_HREF}" | grep -Eo 'basiclite-[-.0-9]+' | sed -e 's/basiclite-//g' -e 's/\.$//g' )" \
        && (ln -sf /usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/*.so* /usr/lib/ || true) \
  odbc:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
  opcache:
    disabled: []
    all:
      type: builtin
    8.2:
      type: builtin
      pre: curl -sS https://raw.githubusercontent.com/php/php-src/php-8.0.6/ext/opcache/Optimizer/zend_dfg.h > /usr/local/include/php/Zend/Optimizer/zend_dfg.h
    8.1:
      type: builtin
      pre: curl -sS https://raw.githubusercontent.com/php/php-src/php-8.0.6/ext/opcache/Optimizer/zend_dfg.h > /usr/local/include/php/Zend/Optimizer/zend_dfg.h
    5.4:
      type: pecl
      command: pecl install zendopcache
    5.3:
      type: pecl
      command: pecl install zendopcache
    5.2:
      type: pecl
      command: pecl install zendopcache
  openssl:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  pcntl:
    disabled: []
    all:
      type: builtin
  pdo:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  pdo_dblib:
    disabled: []
    all:
      type: builtin
      pre: ln -s /usr/lib/$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)/libsybdb.* /usr/lib/
      build_dep: [freetds-dev]
      run_dep: [libsybdb5]
  pdo_firebird:
    disabled: []
    all:
      type: builtin
      build_dep: [libfbclient2, libib-util, firebird-dev]
      run_dep: [libfbclient2]
  pdo_mysql:
    disabled: []
    all:
      type: builtin
      configure: --with-zlib-dir=/usr
      run_dep: [libmariadbd19]
      build_dep: [zlib1g-dev, libmariadb-dev]
    7.0:
      type: builtin
      run_dep: [libmariadbclient18]
      build_dep: [zlib1g-dev, libmariadbclient-dev]
    5.6:
      type: builtin
      run_dep: [libmariadbclient18]
      build_dep: [zlib1g-dev, libmariadbclient-dev]
    5.5:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [zlib1g-dev, libmysqlclient-dev]
    5.4:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [zlib1g-dev, libmysqlclient-dev]
    5.3:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [zlib1g-dev, libmysqlclient-dev]
    5.2:
      type: builtin
      run_dep: [libmysqlclient18]
      build_dep: [zlib1g-dev, libmysqlclient-dev]
  pdo_oci:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr,${ORACLE_VERSION_MAJOR}
      pre: |
        ARCH="$(dpkg-architecture --query DEB_HOST_GNU_CPU)" \
        && ORACLE_HREF="$( \
            curl -sS https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/ \
            | tac \
            | tac \
            | grep -Eo 'href="getPackage/oracle-instantclient.+basiclite.+rpm"' \
            | tail -1 \
        )" \
        && ORACLE_VERSION_MAJOR="$( echo "${ORACLE_HREF}" | grep -Eo 'instantclient[.0-9]+' | sed 's/instantclient//g' )" \
        && ORACLE_VERSION_FULL="$( echo "${ORACLE_HREF}" | grep -Eo 'basiclite-[-.0-9]+' | sed -e 's/basiclite-//g' -e 's/\.$//g' )" \
        \
        && rpm --import http://yum.oracle.com/RPM-GPG-KEY-oracle-ol7 \
        && curl -sS -o /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/getPackage/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && curl -sS -o /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        https://yum.oracle.com/repo/OracleLinux/OL7/oracle/instantclient/${ARCH}/getPackage/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && alien \
          -v \
          --target=$( dpkg --print-architecture ) \
          -i /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && alien \
          -v \
          --target=$( dpkg --print-architecture ) \
          -i /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && rm -f /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-basiclite-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && rm -f /tmp/oracle-instantclient${ORACLE_VERSION_MAJOR}-devel-${ORACLE_VERSION_FULL}.${ARCH}.rpm \
        && (ln -s /usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/*.so* /usr/lib/ || true) \
      build_dep: [alien]
    8.2:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
    8.1:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
    8.0:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
    7.4:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
    7.3:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
    7.2:
      type: builtin
      configure: --with-pdo-oci=instantclient,/usr/lib/oracle/${ORACLE_VERSION_MAJOR}/client64/lib/,${ORACLE_VERSION_MAJOR}
  pdo_odbc:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
  pdo_pgsql:
    disabled: []
    all:
      type: builtin
      build_dep: [libpq-dev]
      run_dep: [libpq5]
  pdo_sqlite:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  pdo_sqlsrv:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: pecl
      build_dep: [unixodbc-dev]
      run_dep: [unixodbc]
    7.3:
      type: pecl
      version: 5.9.0
    7.2:
      type: pecl
      version: 5.8.1
    7.1:
      type: pecl
      version: 5.6.1
    7.0:
      type: pecl
      version: 5.3.0
  pgsql:
    disabled: []
    all:
      type: builtin
      build_dep: [libpq-dev]
      run_dep: [libpq5]
  psr:
    disabled: [5.2, 5.3]
    all:
      type: pecl
    7.2:
      type: pecl
      version: 1.1.0
    7.1:
      type: pecl
      version: 1.1.0
    7.0:
      type: pecl
      version: 1.1.0
    5.6:
      type: pecl
      version: 0.6.0  # NOTE: 0.6.1 fails with: Package "psr" Version "0.6.1" does not have REST xml available
    5.5:
      type: pecl
      version: 0.5.1
    5.4:
      type: pecl
      version: 0.5.1
  zstd:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: git
      git_url: https://github.com/kjdev/php-ext-zstd
      git_ref: $(git tag | grep -E '^[.0-9]+$' | sort -V | tail -1)
      configure: --enable-zstd --with-libzstd
      build_dep: [libzstd-dev]
      run_dep: [libzstd1]
    7.0:
      type: pecl
      build_dep: [libzstd-dev]
      run_dep: [libzstd1]
  redis:
    disabled: []
    all:
      type: git
      git_url: https://github.com/phpredis/phpredis
      git_ref: $(git tag | grep -E '^[.0-9]+$' | sort -V | tail -1)
      pre: |
        if [ -f /usr/include/liblzf/lzf.h ]; then \
          ln -s /usr/include/liblzf/lzf.h /usr/include/; \
        fi \
      command: |
        REDIS_ARGS=""; \
        if php -m | grep -q "igbinary"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-igbinary"; \
        fi; \
        if php -m | grep -q "lz4"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-lz4 --with-liblz4=/usr"; \
        fi; \
        if php -m | grep -q "lzf"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-lzf --with-liblzf=/usr"; \
        fi; \
        if php -m | grep -q "msgpack"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-msgpack"; \
        fi; \
        if php -m | grep -q "zstd"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-zstd"; \
        fi; \
        phpize \
        && ./configure --enable-redis ${REDIS_ARGS} \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && make install \
      build_dep:
        - liblz4-dev
        - liblzf-dev
        - libzstd-dev
      run_dep:
        - liblz4-1
        - liblzf1
        - libzstd1
    7.2:
      type: git
      git_url: https://github.com/phpredis/phpredis
      git_ref: $(git tag | grep -E '^[.0-9]+$' | sort -V | tail -1)
      command: |
        REDIS_ARGS=""; \
        if php -m | grep -q "igbinary"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-igbinary"; \
        fi; \
        if php -m | grep -q "lz4"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-lz4 --with-liblz4=/usr"; \
        fi; \
        if php -m | grep -q "msgpack"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-msgpack"; \
        fi; \
        if php -m | grep -q "zstd"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-zstd"; \
        fi; \
        phpize \
        && ./configure --enable-redis ${REDIS_ARGS} \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && make install \
      build_dep:
        - liblz4-dev
        - libzstd-dev
      run_dep:
        - liblz4-1
        - libzstd1
    7.1:
      type: git
      git_url: https://github.com/phpredis/phpredis
      git_ref: $(git tag | grep -E '^[.0-9]+$' | sort -V | tail -1)
      command: |
        REDIS_ARGS=""; \
        if php -m | grep -q "igbinary"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-igbinary"; \
        fi; \
        if php -m | grep -q "lz4"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-lz4 --with-liblz4=/usr"; \
        fi; \
        if php -m | grep -q "msgpack"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-msgpack"; \
        fi; \
        if php -m | grep -q "zstd"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-zstd"; \
        fi; \
        phpize \
        && ./configure --enable-redis ${REDIS_ARGS} \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && make install \
      build_dep:
        - liblz4-dev
        - libzstd-dev
      run_dep:
        - liblz4-1
        - libzstd1
    7.0:
      type: git
      git_url: https://github.com/phpredis/phpredis
      git_ref: $(git tag | grep -E '^[.0-9]+$' | sort -V | tail -1)
      command: |
        REDIS_ARGS=""; \
        if php -m | grep -q "igbinary"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-igbinary"; \
        fi; \
        if php -m | grep -q "lz4"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-lz4 --with-liblz4=/usr"; \
        fi; \
        if php -m | grep -q "msgpack"; then \
          REDIS_ARGS="${REDIS_ARGS} --enable-redis-msgpack"; \
        fi; \
        phpize \
        && ./configure --enable-redis ${REDIS_ARGS} \
        && make -j$(getconf _NPROCESSORS_ONLN) \
        && make install \
      build_dep:
        - liblz4-dev
      run_dep:
        - liblz4-1
    5.6:
      type: pecl
      version: 4.3.0
      build_dep: []
      run_dep: []
    5.5:
      type: pecl
      version: 4.3.0
      build_dep: []
      run_dep: []
    5.4:
      type: pecl
      version: 4.3.0
      build_dep: []
      run_dep: []
    5.3:
      type: pecl
      version: 4.3.0
      build_dep: []
      run_dep: []
    5.2:
      type: pecl
      version: 2.2.7
      build_dep: []
      run_dep: []
  sqlite3:
    disabled: [5.2]
    already_avail: "{{ php_all_versions }}"
  sqlsrv:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: pecl
      build_dep: [unixodbc-dev]
      run_dep: [unixodbc]
    7.3:
      type: pecl
      version: 5.9.0
    7.2:
      type: pecl
      version: 5.8.1
    7.1:
      type: pecl
      version: 5.6.1
    7.0:
      type: pecl
      version: 5.3.0
  phalcon:
    disabled: [5.2, 8.2]
    all:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: |
        $(git for-each-ref --format='%(*creatordate:raw)%(creatordate:raw) %(refname)' refs/tags \
          | sort -V \
          | sed 's/^.*tags\///g' \
          | grep -E '^v[.0-9]+$' \
          | tail -1 \
        ) \
      command: cd build && ./install
      build_dep: [libpcre3-dev, re2c]
      run_dep: []
    7.3:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: v4.1.2
      command: cd build && ./install
    7.2:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: v4.1.1
      command: cd build && ./install
    7.1:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: v3.4.4
      command: cd build && ./install
    7.0:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: v3.4.4
      command: cd build && ./install
    5.6:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: v3.4.4
      command: cd build && ./install
    5.5:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: v3.4.4
      command: cd build && ./install
    5.4:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: phalcon-v2.0.13
      command: cd build && ./install
    5.3:
      type: git
      git_url: https://github.com/phalcon/cphalcon
      git_ref: phalcon-v2.0.9
      command: cd build && ./install
  phar:
    disabled: []
    already_avail: [5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    5.2:
      type: pecl
      build_dep: [libssl-dev]
  posix:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  pspell:
    disabled: []
    all:
      type: builtin
      build_dep: [libpspell-dev]
      run_dep: [libaspell15]
  random:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    already_avail: "{{ php_all_versions }}"
  rdkafka:
    disabled: [5.2]
    all:
      type: pecl
      build_dep: [librdkafka-dev]
      run_dep: [librdkafka1]
    7.0:
      type: pecl
      version: 3.1.2
    5.6:
      type: pecl
      version: 3.1.2
    5.5:
      type: pecl
      version: 3.0.5
    5.4:
      type: pecl
      version: 3.0.5
    5.3:
      type: pecl
      version: 3.0.5
  readline:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  recode:
    disabled: [7.4, 8.0, 8.1, 8.2]
    already_avail: [5.2, 5.3, 5.4, 5.5]
    all:
      type: builtin
      build_dep: [librecode-dev]
      run_dep: [librecode0]
  reflection:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  session:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  shmop:
    disabled: []
    all:
      type: builtin
  simplexml:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  snmp:
    disabled: []
    all:
      type: builtin
      configure: --with-snmp
      build_dep: [libssl-dev, libsnmp-dev, snmp]
      run_dep: [snmp]
  soap:
    disabled: []
    all:
      type: builtin
      build_dep: [libxml2-dev]
  sockets:
    disabled: []
    all:
      type: builtin
    8.2:
      # Remove ucred (currently breaks build)
      pre: |
        docker-php-ext-configure sockets \
        && sed -i'' 's/.*ucred.*//g' /usr/src/php/ext/sockets/sendrecvmsg.c \
    8.1:
      # Remove ucred (currently breaks build)
      pre: |
        docker-php-ext-configure sockets \
        && sed -i'' 's/.*ucred.*//g' /usr/src/php/ext/sockets/sendrecvmsg.c \
    8.0:
      # Remove ucred (currently breaks build)
      pre: |
        docker-php-ext-configure sockets \
        && sed -i'' 's/.*ucred.*//g' /usr/src/php/ext/sockets/sendrecvmsg.c \
  sodium:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 7.0, 7.1]
    already_avail: [7.2, 7.3, 7.4]
    all:
      type: builtin
      build_dep: [libsodium-dev]
  solr:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 7.0, 8.2]
    all:
      type: pecl
      build_dep: [libxml2-dev, libcurl4-openssl-dev]
  spl:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  sqlite:
    disabled: [5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1, 8.2]
    already_avail: "{{ php_all_versions }}"
  ssh2:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 8.0, 8.1, 8.2]
    all:
      type: pecl
      version: 1.2
      build_dep: [libssh2-1-dev]
      run_dep: [libssh2-1]
  xml:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  zip:
    disabled: []
    all:
      type: builtin
      configure: --with-zip
      build_dep: [libzip-dev]
      run_dep: [libzip4]
    7.3:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr --with-libzip=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip4, zlib1g]
    7.2:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr --with-libzip=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip4, zlib1g]
    7.1:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr --with-libzip=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip4, zlib1g]
    7.0:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr --with-libzip=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip4, zlib1g]
    5.6:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr --with-libzip=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip4, zlib1g]
    5.5:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip2, zlib1g]
    5.4:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip2, zlib1g]
    5.3:
      type: builtin
      configure: --enable-zip --with-zlib-dir=/usr --with-pcre-dir=/usr
      build_dep: [libzip-dev, zlib1g-dev]
      run_dep: [libzip2, zlib1g]
    5.2:
      type: builtin
      configure: --enable-zip
      build_dep: [libzip-dev]
      run_dep: [libzip2]
  swoole:
    disabled: [5.2, 8.2]
    all:
      type: pecl
      # Note: -D is only supported from PHP 7.2+
      command: pecl install -D 'enable-sockets="no" enable-openssl="yes" enable-http2="yes" enable-mysqlnd="yes" enable-swoole-json="no" enable-swoole-curl="yes" enable-cares="yes" with-postgres="yes"' swoole
      build_dep: [libc-ares-dev, libnghttp2-dev, libssl-dev, libcurl4-openssl-dev]
      run_dep: [libc-ares2, libnghttp2-14]
    7.4:
      type: pecl
      version: 4.8.12
    7.3:
      type: pecl
      version: 4.8.12
    7.2:
      type: pecl
      version: 4.8.12
    7.1:
      type: pecl
      version: 4.4.26
    7.0:
      type: pecl
      version: 4.2.13
    5.6:
      type: pecl
      version: 1.9.23
    5.5:
      type: pecl
      version: 1.9.23
      run_dep: [libc-ares2, libnghttp2-5, libssl1.0.0]
    5.4:
      type: pecl
      version: 1.9.23
      run_dep: [libc-ares2, libnghttp2-5, libssl1.0.0]
    5.3:
      type: pecl
      version: 1.9.23
      run_dep: [libc-ares2, libnghttp2-5, libssl1.0.0]
  sysvmsg:
    disabled: []
    all:
      type: builtin
  sysvsem:
    disabled: []
    all:
      type: builtin
  sysvshm:
    disabled: []
    all:
      type: builtin
  tidy:
    disabled: []
    all:
      type: builtin
      build_dep: [libtidy-dev]
      run_dep: [libtidy5deb1]
    7.0:
      type: builtin
      run_dep: [libtidy5]
    5.6:
      type: builtin
      run_dep: [libtidy5]
    5.5:
      type: builtin
      run_dep: [libtidy-0.99-0]
    5.4:
      type: builtin
      run_dep: [libtidy-0.99-0]
    5.3:
      type: builtin
      run_dep: [libtidy-0.99-0]
    5.2:
      type: builtin
      run_dep: [libtidy-0.99-0]
  tokenizer:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  uploadprogress:
    disabled: []
    all:
      type: pecl
    7.1:
      type: pecl
      version: 1.1.4
    7.0:
      type: pecl
      version: 1.1.4
    5.6:
      type: pecl
      version: 1.1.4
    5.5:
      type: pecl
      version: 1.1.4
    5.4:
      type: pecl
      version: 1.1.4
    5.3:
      type: pecl
      version: 1.1.4
    5.2:
      type: pecl
      version: 1.1.4
  uuid:
    disabled: [5.2]
    all:
      type: pecl
      run_dep: [uuid]
      build_dep: [uuid-dev]
    5.6:
      type: pecl
      version: 1.0.5
    5.5:
      type: pecl
      version: 1.0.5
    5.4:
      type: pecl
      version: 1.0.5
    5.3:
      type: pecl
      version: 1.0.5
  vips:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6, 8.2]
    all:
      type: pecl
      build_dep:
        - libvips-dev
        - libvips42
      run_dep:
        - libvips42
    5.6:
      type: pecl
      version: 1.0.0
  wddx:
    disabled: [7.4, 8.0, 8.1, 8.2]
    all:
      type: builtin
      configure: --with-libxml-dir=/usr
      build_dep: [libxml2-dev]
      # TODO: requires run_dep libxml
  xdebug:
    disabled: []
    all:
      type: pecl
    7.4:
      type: pecl
      version: 3.1.6
    7.3:
      type: pecl
      version: 3.1.6
    7.2:
      type: pecl
      version: 3.1.6
    7.1:
      type: pecl
      version: 2.9.8
    7.0:
      type: pecl
      version: 2.9.0
    5.6:
      type: pecl
      version: 2.4.1
    5.5:
      type: pecl
      version: 2.4.1
    5.4:
      type: pecl
      version: 2.4.1
    5.3:
      type: pecl
      version: 2.2.7
    5.2:
      type: pecl
      version: 2.2.7
  xlswriter:
    disabled: [5.2, 5.3, 5.4, 5.5, 5.6]
    all:
      type: pecl
      build_dep: [zlib1g-dev]
      run_dep: []
  xmlreader:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  xmlrpc:
    disabled: [8.0, 8.1, 8.2]
    all:
      type: builtin
      configure: --with-libxml-dir=/usr --with-iconv-dir=/usr
      build_dep: [libxml2-dev]
      # TODO: requires run_dep libxml
    7.4:
      type: builtin
      configure: --with-iconv-dir=/usr
  xmlwriter:
    disabled: []
    already_avail: "{{ php_all_versions }}"
  xsl:
    disabled: []
    all:
      type: builtin
      build_dep: [libxslt-dev]
      run_dep: [libxslt1.1]
  yaml:
    disabled: [5.2]
    all:
      type: pecl
      build_dep: [libyaml-dev]
      run_dep: [libyaml-0-2]
    7.0:
      type: pecl
      version: 2.0.4
    5.6:
      type: pecl
      version: 1.3.2
    5.5:
      type: pecl
      version: 1.3.2
    5.4:
      type: pecl
      version: 1.3.2
    5.3:
      type: pecl
      version: 1.3.2
  zlib:
    disabled: []
    already_avail: "{{ php_all_versions }}"
